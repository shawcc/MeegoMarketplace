<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marketplace - 沉浸式应用市场</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; }
        .hide-scroll::-webkit-scrollbar { display: none; }
        /* 背景模拟 SaaS 主界面 */
        body { background-color: #f1f5f9; background-image: radial-gradient(#cbd5e1 1px, transparent 1px); background-size: 24px 24px; } 
        
        /* 通用动效 */
        .card-hover { transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1); }
        .card-hover:hover { transform: translateY(-4px); box-shadow: 0 12px 20px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.05); }

        /* Style 1: ClickUp (Clean Modal) */
        .style-clickup-overlay { background-color: rgba(255, 255, 255, 0.8); backdrop-filter: blur(2px); }
        .style-clickup-modal { background-color: #ffffff; box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); border: 1px solid #e2e8f0; }
        .style-clickup-card { border: 1px solid #e2e8f0; border-radius: 8px; }
        
        /* Style 2: Jira (Enterprise Modal) */
        .style-jira-overlay { background-color: rgba(9, 30, 66, 0.54); }
        .style-jira-modal { background-color: #ffffff; box-shadow: 0 0 0 1px rgba(9, 30, 66, 0.08), 0 2px 1px rgba(9, 30, 66, 0.08), 0 0 20px -6px rgba(9, 30, 66, 0.31); }
        .style-jira-sidebar { background-color: #FAFBFC; border-right: 1px solid #dfe1e6; }
        .style-jira-card { background-color: #ffffff; border: 1px solid #dfe1e6; box-shadow: 0 1px 1px rgba(9, 30, 66, 0.25); border-radius: 3px; }

        /* Style 3: Monday (Vibrant Modal) - Refined Radius */
        .style-monday-overlay { background-color: rgba(0, 0, 0, 0.4); backdrop-filter: blur(4px); }
        .style-monday-modal { background-color: #f7f9fc; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); }
        .style-monday-card { 
            background: white; 
            border: 1px solid #E6E9EF; 
            border-radius: 8px; /* Reduced radius for professionalism */
            box-shadow: 0 2px 4px rgba(0,0,0,0.02);
            overflow: hidden;
        }
        .style-monday-card:hover {
            border-color: #0073EA;
            box-shadow: 0 8px 16px rgba(0,115,234,0.1);
        }
        .monday-tag { transition: all 0.2s; }
        .monday-tag:hover { background-color: #e2e8f0; color: #0f172a; }
        .monday-tag.active { background-color: #0f172a; color: white; }
        
        /* Dual Banners Gradients */
        .monday-banner-1 { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .monday-banner-2 { background: linear-gradient(135deg, #0ba360 0%, #3cba92 100%); }
    </style>
</head>
<body class="text-slate-800 h-screen overflow-hidden">
    <div id="root" class="h-full"></div>

    <script type="text/babel">
        const React = window.React;
        const ReactDOM = window.ReactDOM;
        const { useState, useEffect } = React;

        // --- 1. 业务场景分类 (Categories) ---
        const SCENARIO_CATEGORIES = [
            { id: 'all', label: '全部' },
            { id: 'dev', label: '产研开发' },
            { id: 'marketing', label: '市场运营' },
            { id: 'hr', label: '行政人事' },
            { id: 'sales', label: '销售客服' },
            { id: 'common', label: '通用效率' }
        ];

        // --- 2. 资源类型 (Types - 下拉筛选) ---
        const RESOURCE_TYPES = [
            { id: 'all', label: '所有类型' },
            { id: 'solution', label: '解决方案 (Solution)', icon: 'fa-layer-group' },
            { id: 'template', label: '业务模板 (Template)', icon: 'fa-table' },
            { id: 'plugin', label: '功能插件 (Plugin)', icon: 'fa-plug' },
            { id: 'integration', label: '集成 (Integration)', icon: 'fa-link' },
            { id: 'lightapp', label: '轻应用 (Light App)', icon: 'fa-mobile-alt' },
            { id: 'ai-node', label: 'AI 节点 (AI Node)', icon: 'fa-brain' },
            { id: 'agent', label: '智能体 (Agent)', icon: 'fa-robot' }
        ];

        // --- 3. 全量真实数据 (90+ 条目) ---
        const ALL_RESOURCES = [
            // === 新增：视频与演示工具 (Video Tools) ===
            { id: 'tool-01', title: 'Screen Studio 录屏大师', category: 'marketing', type: 'lightapp', desc: '傻瓜式录屏工具，自动生成平滑缩放与鼠标动效，无需剪辑基础也能做出专业级演示视频。', author: 'Screen Studio', installs: '8.5k', icon: 'fa-video' },
            { id: 'tool-02', title: 'Loom 视频协作', category: 'common', type: 'plugin', desc: '一键录制屏幕与人像，自动生成云端链接。用视频替代冗长的文档说明，适合快速 Feature 演示。', author: 'Loom', installs: '25k+', icon: 'fa-comment-video' },
            { id: 'tool-03', title: 'Arcade 交互演示', category: 'marketing', type: 'lightapp', desc: '将屏幕操作转化为可交互的网页 Demo，引导用户亲手体验产品功能，转化率优于传统视频。', author: 'Arcade', installs: '6k', icon: 'fa-mouse-pointer' },
            { id: 'tool-04', title: 'Descript 智能剪辑', category: 'marketing', type: 'lightapp', desc: '像编辑 Word 文档一样剪辑视频。删除文本即可剪掉对应画面，AI 自动消除语气词与杂音。', author: 'Descript', installs: '12k', icon: 'fa-wand-magic-sparkles' },

            // === 新增类型数据 (Mock) ===
            { id: 'int-01', title: 'Jira 双向同步', category: 'dev', type: 'integration', desc: '实时同步 Jira 与本平台的任务状态、评论与附件，实现无缝协作。', author: 'Atlassian', installs: '15k', icon: 'fa-sync' },
            { id: 'int-02', title: '飞书审批流集成', category: 'hr', type: 'integration', desc: '将业务系统的审批单据自动推送到飞书审批中心，统一待办入口。', author: 'Lark', installs: '8k', icon: 'fa-check-circle' },
            { id: 'int-03', title: 'GitLab 代码关联', category: 'dev', type: 'integration', desc: '提交代码时自动关联需求卡片，在卡片内查看分支、Commit 与 MR 状态。', author: 'GitLab', installs: '12k', icon: 'fa-code-branch' },
            
            { id: 'app-01', title: '简易报销助手', category: 'hr', type: 'lightapp', desc: '轻量级报销工具，支持OCR拍照识别发票，自动计算差旅补贴。', author: '财务部', installs: '5k', icon: 'fa-receipt' },
            { id: 'app-02', title: '会议室预订 Mini', category: 'common', type: 'lightapp', desc: '快速查看会议室闲忙状态，一键扫码预订，支持会议提醒。', author: '行政部', installs: '3.2k', icon: 'fa-calendar-check' },
            { id: 'app-03', title: '团队投票器', category: 'common', type: 'lightapp', desc: '用于团建地点选择、下午茶统计的简易投票小工具。', author: '文化组', installs: '1.5k', icon: 'fa-poll' },

            { id: 'ai-01', title: '简历智能筛选节点', category: 'hr', type: 'ai-node', desc: '基于 LLM 自动提取简历关键信息，并根据职位JD进行匹配度打分。', author: 'AI Lab', installs: '900+', icon: 'fa-file-alt' },
            { id: 'ai-02', title: '合同风险识别节点', category: 'sales', type: 'ai-node', desc: '在流程中嵌入 AI 节点，自动扫描合同文本中的法律风险条款。', author: 'LegalAI', installs: '600+', icon: 'fa-shield-alt' },
            { id: 'ai-03', title: '代码 Review 节点', category: 'dev', type: 'ai-node', desc: '自动对提交的代码进行静态分析与 AI 审查，给出优化建议。', author: 'DevOps', installs: '2k', icon: 'fa-bug' },

            { id: 'agt-01', title: '智能客服 Agent', category: 'sales', type: 'agent', desc: '7x24小时在线，自动回答客户常见问题，处理售后工单。', author: 'CS Team', installs: '4k', icon: 'fa-headset' },
            { id: 'agt-02', title: '数据分析专家 Agent', category: 'common', type: 'agent', desc: '通过自然语言提问，自动查询数据库并生成图表分析报告。', author: 'Data Team', installs: '1.2k', icon: 'fa-chart-line' },
            { id: 'agt-03', title: '创意文案 Agent', category: 'marketing', type: 'agent', desc: '根据关键词自动生成营销文案、朋友圈海报文案与邮件模板。', author: 'Marketing', installs: '3.5k', icon: 'fa-pen-nib' },

            // === 原有数据 (Solutions) ===
            { id: 'sol-01', title: 'Zadig DevOps 一体化解决方案', category: 'dev', type: 'solution', desc: '端到端的持续交付与自动化运维平台，打通开发、测试到运维的墙壁，实现分钟级代码构建与部署。', price: '¥599/月', users: 2100, color: 'bg-blue-600', tag: '热门' },
            { id: 'sol-02', title: '规模化敏捷 (SAFe) 解决方案', category: 'dev', type: 'solution', desc: '专为大型企业设计的敏捷转型框架，协调多团队、多层级的协作与价值交付，确保企业战略与执行的一致性。', price: '¥899/月', users: 540, color: 'bg-indigo-600', tag: '企业版' },
            { id: 'sol-03', title: '翼云销 LTC 解决方案', category: 'sales', type: 'solution', desc: '提供从线索挖掘、商机管理、合同签订到回款核销的全流程销售管理闭环。', price: '¥399/月', users: 1200, color: 'bg-orange-500', tag: '官方推荐' },
            { id: 'sol-06', title: '工时资源管理套件', category: 'hr', type: 'solution', desc: '实现精细化的人力资源效能与工时成本分析，自动计算项目人天投入与ROI。', price: '¥199/月', users: 3500, color: 'bg-teal-500' },
            { id: 'sol-07', title: '客户反馈管理全流程数字化', category: 'marketing', type: 'solution', desc: '构建全渠道声音采集与闭环处理系统，自动化分类与分发客户反馈。', price: '¥299/月', users: 920, color: 'bg-purple-500' },
            { id: 'sol-10', title: '文件资源管理中心', category: 'common', type: 'solution', desc: '构建企业级知识库与数字资产管理中心，支持细粒度的权限控制。', price: '¥159/月', users: 1800, color: 'bg-cyan-600' },

            // === 原有数据 (Plugins) ===
            { id: 'plug-01', title: '工时管理插件', category: 'common', type: 'plugin', desc: '嵌入任务面板，自动记录任务耗时，支持一键生成个人周报与团队工时统计报表。', icon: 'fa-clock', installs: '12k', author: 'TimeTrack' },
            { id: 'plug-02', title: 'Tab页面打开 AccountPlan', category: 'sales', type: 'plugin', desc: '支持在独立标签页中快速访问大客户计划（Account Plan）。', icon: 'fa-external-link-alt', installs: '3k', author: 'SalesForce' },
            { id: 'plug-03', title: '客户画像匹配插件', category: 'sales', type: 'plugin', desc: '基于 AI 大数据自动补全客户画像信息，智能识别高潜客户特征。', icon: 'fa-id-card', installs: '5k', author: 'DataInsight' },
            { id: 'plug-04', title: '解决方案智能推荐', category: 'marketing', type: 'plugin', desc: '根据客户输入的业务需求描述，利用 NLP 技术智能推荐最匹配的产品解决方案。', icon: 'fa-lightbulb', installs: '2.1k', author: 'AI Lab' },
            { id: 'plug-11', title: '组织架构插件', category: 'common', type: 'plugin', desc: '实时同步企业微信、飞书或钉钉的组织架构与人员信息。', icon: 'fa-sitemap', installs: '9k', author: 'HR Connect' },
            { id: 'plug-12', title: '地图插件', category: 'common', type: 'plugin', desc: '在交互式地图上可视化展示客户分布、门店位置与市场覆盖情况。', icon: 'fa-map-marked-alt', installs: '4k', author: 'GeoMap' },
            
            // === 原有数据 (Templates) ===
            { id: 'tpl-d01', title: '整车研发全流程管理', category: 'dev', type: 'template', desc: '覆盖从整车定义、造型设计、工程开发、验证测试到最终量产上市的全生命周期管理流程。', author: '汽车研究院' },
            { id: 'tpl-d02', title: '汽车软件开发', category: 'dev', type: 'template', desc: '符合汽车行业标准的嵌入式软件开发流程模板，包含需求定义、架构设计。', author: 'AutoDev' },
            { id: 'tpl-d12', title: 'Agile Development', category: 'dev', type: 'template', desc: '标准的 Scrum 敏捷开发流程模板，预置看板、冲刺待办列表与燃尽图配置。', author: 'Scrum Master' },
            { id: 'tpl-s01', title: '通信行业LTC', category: 'sales', type: 'template', desc: '通信设备行业复杂的线索到现金全流程，包含招投标管理与交付验收环节。', author: '通信销售组' },
            { id: 'tpl-m01', title: '短视频制作全流程', category: 'marketing', type: 'template', desc: '包含选题策划、脚本撰写、拍摄制作、剪辑包装到分发推广的短视频 SOP。', author: '新媒体运营' },
            { id: 'tpl-h01', title: '战略到执行 (DSTE)', category: 'hr', type: 'template', desc: '企业年度战略规划（SP）、年度经营计划（BP）到执行落地的全流程管理。', author: '战略办' },
            { id: 'tpl-h05', title: '人生发展系统', category: 'common', type: 'template', desc: '用于个人目标管理、习惯养成、知识沉淀与年度成长复盘的个人管理系统。', author: '个人成长' },
            { id: 'tpl-h15', title: 'Roadmap管理', category: 'common', type: 'template', desc: '产品或项目的路线图规划管理，可视化展示里程碑与关键交付节点。', author: '产品委员会' },
            { id: 'tpl-h19', title: '通用反馈管理', category: 'common', type: 'template', desc: '适用于各类场景的意见收集、投诉建议与内部反馈处理的通用模板。', author: '行政部' },
            { id: 'tpl-h21', title: 'DSTE战略到执行管理', category: 'hr', type: 'template', desc: '闭环的战略管理体系，确保从战略意图到年度计划再到个人绩效的层层穿透。', author: '战略规划部' }
        ];

        // --- 组件 ---

        const ResourceCard = ({ item, style }) => {
            let cardClasses = "";
            let btnClasses = "";
            let iconContainerClass = "";

            if (style === 'clickup') {
                cardClasses = "style-clickup-card bg-white p-4 text-slate-700 hover:border-blue-400 group cursor-pointer";
                iconContainerClass = item.type === 'plugin' ? 'text-indigo-500' : 'text-blue-500';
                btnClasses = "text-xs font-medium text-slate-500 hover:text-blue-600";
            } else if (style === 'jira') {
                cardClasses = "style-jira-card p-3 flex flex-col h-full group cursor-pointer";
                iconContainerClass = "text-slate-600"; 
                btnClasses = "bg-slate-100 text-slate-700 px-2 py-1 rounded hover:bg-slate-200 text-xs font-bold";
            } else if (style === 'monday') {
                cardClasses = "style-monday-card flex flex-col h-full group cursor-pointer";
                const getTypeColor = (t) => {
                    if (t === 'integration') return 'bg-purple-100 text-purple-600';
                    if (t === 'lightapp') return 'bg-pink-100 text-pink-600';
                    if (t === 'ai-node') return 'bg-green-100 text-green-600';
                    if (t === 'agent') return 'bg-amber-100 text-amber-600';
                    if (t === 'plugin') return 'bg-indigo-100 text-indigo-600';
                    return 'bg-blue-100 text-blue-600';
                };
                iconContainerClass = getTypeColor(item.type);
                // Reduced radius for button
                btnClasses = "bg-slate-50 text-slate-600 px-3 py-1.5 rounded-md text-xs hover:bg-slate-100 font-semibold transition-colors";
            }

            return (
                <div className={`${cardClasses} relative`}>
                    {/* Card Body */}
                    <div className={style === 'monday' ? 'p-5 flex flex-col h-full' : 'flex flex-col h-full'}>
                        <div className="flex justify-between items-start mb-4">
                            <div className={`w-12 h-12 rounded-lg flex items-center justify-center text-xl shrink-0 transition-transform group-hover:scale-110 ${iconContainerClass}`}>
                                <i className={`fas ${item.icon || 'fa-cube'}`}></i>
                            </div>
                            
                            <div className="flex flex-col items-end gap-1">
                                {item.tag && (
                                    <span className={`text-[10px] font-bold px-2 py-0.5 rounded-md uppercase tracking-wide ${
                                        style === 'monday' ? 'bg-orange-100 text-orange-600' : 'bg-slate-100 text-slate-500'
                                    }`}>
                                        {item.tag}
                                    </span>
                                )}
                                {/* Type Badge */}
                                <span className="text-[10px] text-slate-400 font-medium px-1.5 py-0.5 border border-slate-100 rounded-md">
                                    {RESOURCE_TYPES.find(t => t.id === item.type)?.label.split(' ')[0]}
                                </span>
                            </div>
                        </div>
                        
                        <h3 className={`font-bold mb-2 line-clamp-1 ${style === 'monday' ? 'text-lg text-slate-800' : 'text-sm'}`} title={item.title}>
                            {item.title}
                        </h3>
                        
                        <p className={`text-sm mb-5 line-clamp-3 leading-relaxed flex-grow ${style === 'monday' ? 'text-slate-500' : 'text-slate-500'}`} title={item.desc}>
                            {item.desc}
                        </p>
                        
                        <div className="flex items-center justify-between mt-auto pt-3 border-t border-slate-50">
                            <div className="flex items-center text-xs text-slate-400 gap-2">
                                {item.installs && <span><i className="fas fa-download mr-1"></i>{item.installs}</span>}
                                {item.users && <span><i className="fas fa-user mr-1"></i>{item.users}</span>}
                                {!item.installs && !item.users && <span>{item.author || 'Official'}</span>}
                            </div>
                            {style === 'monday' ? (
                                <button className="text-blue-600 bg-blue-50 px-4 py-1.5 rounded-md text-xs font-bold hover:bg-blue-100 transition-colors">
                                    获取
                                </button>
                            ) : style === 'jira' ? (
                                <button className={btnClasses}>Install</button>
                            ) : (
                                <button className={btnClasses}>
                                    <i className="fas fa-plus mr-1"></i> 添加
                                </button>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        const MainApp = () => {
            const [layoutStyle, setLayoutStyle] = useState('monday'); 
            const [activeCategory, setActiveCategory] = useState('all');
            const [activeType, setActiveType] = useState('all');
            const [searchTerm, setSearchTerm] = useState('');
            const [filteredResources, setFilteredResources] = useState(ALL_RESOURCES);

            useEffect(() => {
                let results = ALL_RESOURCES;
                if (activeType !== 'all') results = results.filter(item => item.type === activeType);
                if (activeCategory !== 'all') results = results.filter(item => item.category === activeCategory);
                if (searchTerm) {
                    const lower = searchTerm.toLowerCase();
                    results = results.filter(item => item.title.toLowerCase().includes(lower) || item.desc.toLowerCase().includes(lower));
                }
                setFilteredResources(results);
            }, [activeCategory, activeType, searchTerm]);

            // Layout Switcher
            const LayoutSwitcher = () => (
                <div className="fixed bottom-4 left-1/2 -translate-x-1/2 z-[60] bg-white shadow-xl rounded-full p-1.5 border border-slate-200 flex text-xs font-bold gap-1 opacity-90 hover:opacity-100 transition-opacity ring-1 ring-slate-900/5">
                    <button onClick={() => setLayoutStyle('clickup')} className={`px-4 py-2 rounded-full transition-all flex items-center gap-2 ${layoutStyle === 'clickup' ? 'bg-slate-800 text-white shadow-md' : 'hover:bg-slate-100 text-slate-600'}`}>
                        ClickUp Modal
                    </button>
                    <button onClick={() => setLayoutStyle('jira')} className={`px-4 py-2 rounded-full transition-all flex items-center gap-2 ${layoutStyle === 'jira' ? 'bg-blue-700 text-white shadow-md' : 'hover:bg-slate-100 text-slate-600'}`}>
                        Jira Modal
                    </button>
                    <button onClick={() => setLayoutStyle('monday')} className={`px-4 py-2 rounded-full transition-all flex items-center gap-2 ${layoutStyle === 'monday' ? 'bg-blue-500 text-white shadow-md' : 'hover:bg-slate-100 text-slate-600'}`}>
                        Monday Modal
                    </button>
                </div>
            );

            // --- Renderers ---

            // 1. ClickUp Style (Standard Modal)
            const renderClickUp = () => (
                <div className="fixed inset-0 style-clickup-overlay flex items-center justify-center z-50 p-4">
                    <div className="style-clickup-modal w-full max-w-[90vw] h-[90vh] rounded-xl flex flex-col overflow-hidden animate-fade-in-up">
                        {/* Minimal Header */}
                        <div className="bg-white px-8 py-5 border-b border-slate-100 flex items-center justify-between shrink-0">
                            <h2 className="text-xl font-bold text-slate-800">App Center</h2>
                            <div className="flex gap-3">
                                <div className="relative">
                                    <i className="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"></i>
                                    <input type="text" placeholder="Search..." className="pl-9 pr-4 py-1.5 text-sm border border-slate-200 rounded-md focus:border-slate-400 outline-none w-48" value={searchTerm} onChange={e=>setSearchTerm(e.target.value)} />
                                </div>
                                <button className="text-slate-400 hover:text-slate-600"><i className="fas fa-times text-lg"></i></button>
                            </div>
                        </div>
                        
                        <div className="flex-1 flex flex-col overflow-hidden bg-white">
                            {/* Filter Bar */}
                            <div className="px-8 py-4 flex items-center justify-between border-b border-slate-50">
                                <div className="flex gap-6 overflow-x-auto hide-scroll">
                                    {SCENARIO_CATEGORIES.map(cat => (
                                        <button key={cat.id} onClick={() => setActiveCategory(cat.id)} className={`text-sm font-medium pb-1 border-b-2 transition-colors whitespace-nowrap ${activeCategory === cat.id ? 'border-slate-800 text-slate-800' : 'border-transparent text-slate-500 hover:text-slate-700'}`}>
                                            {cat.label}
                                        </button>
                                    ))}
                                </div>
                                <select className="text-xs font-bold border border-slate-200 rounded px-2 py-1.5 text-slate-600 outline-none" value={activeType} onChange={e => setActiveType(e.target.value)}>
                                    {RESOURCE_TYPES.map(t => <option key={t.id} value={t.id}>{t.label}</option>)}
                                </select>
                            </div>

                            {/* Content */}
                            <div className="flex-1 overflow-y-auto p-8 bg-slate-50/30">
                                <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
                                    {filteredResources.map(item => <ResourceCard key={item.id} item={item} style="clickup" />)}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );

            // 2. Jira Style (Sidebar Enterprise Modal)
            const renderJira = () => (
                <div className="fixed inset-0 style-jira-overlay flex items-center justify-center z-50 p-4">
                    <div className="style-jira-modal w-full max-w-[90vw] h-[90vh] rounded shadow-2xl flex overflow-hidden">
                        {/* Sidebar */}
                        <div className="w-64 style-jira-sidebar flex flex-col shrink-0">
                            <div className="p-5 border-b border-slate-200">
                                <h2 className="text-sm font-bold text-slate-700 uppercase tracking-wide">Marketplace</h2>
                            </div>
                            <div className="p-2 space-y-0.5 overflow-y-auto flex-1">
                                {SCENARIO_CATEGORIES.map(cat => (
                                    <button key={cat.id} onClick={() => setActiveCategory(cat.id)} className={`w-full text-left px-4 py-2.5 text-sm rounded-sm flex items-center ${activeCategory === cat.id ? 'bg-blue-50 text-blue-700 font-medium' : 'text-slate-600 hover:bg-slate-100'}`}>
                                        {cat.label}
                                    </button>
                                ))}
                            </div>
                        </div>
                        {/* Main */}
                        <div className="flex-1 flex flex-col bg-white">
                            <div className="px-8 py-5 border-b border-slate-100 flex justify-between items-center">
                                <h2 className="text-xl font-medium text-slate-800">
                                    {SCENARIO_CATEGORIES.find(c => c.id === activeCategory).label} 
                                    <span className="text-slate-500 text-sm font-normal ml-2">({filteredResources.length})</span>
                                </h2>
                                <div className="flex gap-4 items-center">
                                    <input type="text" placeholder="Search apps" className="border border-slate-300 rounded px-2 py-1 text-sm w-48" value={searchTerm} onChange={e=>setSearchTerm(e.target.value)} />
                                    <button className="text-slate-500 hover:text-slate-800"><i className="fas fa-times text-lg"></i></button>
                                </div>
                            </div>
                            <div className="flex-1 overflow-y-auto p-8 bg-slate-50">
                                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                    {filteredResources.map(item => <ResourceCard key={item.id} item={item} style="jira" />)}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );

            // 3. Monday Style (Vibrant Modal - Updated Dual Banner & Radius)
            const renderMonday = () => (
                <div className="fixed inset-0 style-monday-overlay flex items-center justify-center z-50 p-4">
                    {/* Radius changed from rounded-2xl to rounded-xl */}
                    <div className="style-monday-modal w-full max-w-[95vw] h-[92vh] rounded-xl flex flex-col overflow-hidden relative animate-fade-in-down">
                        {/* Header */}
                        <div className="bg-white px-6 py-4 flex items-center justify-between shrink-0 border-b border-slate-100">
                            <div className="flex items-center gap-3">
                                {/* Radius changed from rounded-lg to rounded-md */}
                                <div className="w-8 h-8 bg-blue-600 rounded-md flex items-center justify-center text-white text-lg shadow-sm">
                                    <i className="fas fa-shapes"></i>
                                </div>
                                <h1 className="text-xl font-extrabold text-slate-800 tracking-tight">Marketplace</h1>
                            </div>
                            
                            <div className="flex items-center gap-4">
                                {/* New Submit Request Button */}
                                <button className="hidden md:flex items-center gap-2 bg-gradient-to-r from-orange-50 to-amber-50 text-orange-600 border border-orange-100 px-4 py-2 rounded-lg text-sm font-bold hover:from-orange-100 hover:to-amber-100 transition-all shadow-sm">
                                    <i className="fas fa-lightbulb"></i>
                                    提报需求
                                </button>
                                
                                <div className="h-6 w-px bg-slate-200 hidden md:block"></div>

                                <button className="hidden md:block text-sm font-bold text-slate-500 hover:text-slate-800">
                                    我的应用
                                </button>

                                <button className="w-8 h-8 rounded-full bg-slate-50 hover:bg-slate-100 flex items-center justify-center text-slate-400 hover:text-slate-600 transition-colors">
                                    <i className="fas fa-times"></i>
                                </button>
                            </div>
                        </div>

                        {/* Body */}
                        <div className="flex-1 overflow-y-auto bg-slate-50/50">
                            <div className="p-6 md:p-8">
                                {/* Search & Filter */}
                                <div className="flex flex-col sm:flex-row gap-4 mb-6">
                                    <div className="flex-1 relative">
                                        <i className="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"></i>
                                        {/* Input rounded-xl -> rounded-lg */}
                                        <input 
                                            type="text" 
                                            placeholder="搜索应用、集成、插件或模板..." 
                                            value={searchTerm}
                                            onChange={(e) => setSearchTerm(e.target.value)}
                                            className="w-full pl-11 pr-4 py-3 bg-white border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all outline-none shadow-sm"
                                        />
                                    </div>
                                    <div className="relative min-w-[160px]">
                                        {/* Select rounded-xl -> rounded-lg */}
                                        <select 
                                            value={activeType} 
                                            onChange={(e) => setActiveType(e.target.value)}
                                            className="w-full appearance-none bg-white border border-slate-200 text-slate-700 py-3 pl-4 pr-10 rounded-lg text-sm font-bold focus:outline-none focus:ring-2 focus:ring-blue-500 hover:border-blue-400 cursor-pointer shadow-sm"
                                        >
                                            {RESOURCE_TYPES.map(t => (
                                                <option key={t.id} value={t.id}>{t.label}</option>
                                            ))}
                                        </select>
                                        <i className="fas fa-chevron-down absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 text-xs pointer-events-none"></i>
                                    </div>
                                </div>

                                {/* Tags */}
                                <div className="mb-8 overflow-x-auto hide-scroll pb-1">
                                    <div className="flex gap-2">
                                        {SCENARIO_CATEGORIES.map(cat => (
                                            <button key={cat.id} onClick={() => setActiveCategory(cat.id)} className={`monday-tag px-4 py-1.5 rounded-full text-xs font-bold border transition-all whitespace-nowrap ${activeCategory === cat.id ? 'active border-slate-900 shadow-md' : 'bg-white text-slate-500 border-slate-200 hover:border-slate-300'}`}>
                                                {cat.label}
                                            </button>
                                        ))}
                                    </div>
                                </div>

                                {/* Dual Banner Row (Conditional) */}
                                {activeCategory === 'all' && !searchTerm && (
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
                                        {/* Banner 1: AI */}
                                        <div className="monday-banner-1 rounded-xl p-6 text-white shadow-md relative overflow-hidden group cursor-pointer transition-transform hover:-translate-y-1">
                                            <div className="relative z-10">
                                                <span className="bg-white/20 text-white text-[10px] font-bold px-2 py-1 rounded-md uppercase tracking-wider mb-2 inline-block">Trending</span>
                                                <h2 className="text-2xl font-bold mb-1">解锁 AI 生产力</h2>
                                                <p className="text-white/80 text-sm mb-4">智能 Agent 与自动化节点合集。</p>
                                                <button className="bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white px-4 py-1.5 rounded-lg text-xs font-bold transition-colors">
                                                    查看专区
                                                </button>
                                            </div>
                                            <i className="fas fa-robot absolute -right-6 -bottom-6 text-[120px] text-white opacity-20 group-hover:scale-110 transition-transform duration-500"></i>
                                        </div>

                                        {/* Banner 2: Developer Tools (or Featured) */}
                                        <div className="monday-banner-2 rounded-xl p-6 text-white shadow-md relative overflow-hidden group cursor-pointer transition-transform hover:-translate-y-1">
                                            <div className="relative z-10">
                                                <span className="bg-white/20 text-white text-[10px] font-bold px-2 py-1 rounded-md uppercase tracking-wider mb-2 inline-block">New</span>
                                                <h2 className="text-2xl font-bold mb-1">开发者工具箱</h2>
                                                <p className="text-white/80 text-sm mb-4">从 DevOps 到文档管理的必备神器。</p>
                                                <button className="bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white px-4 py-1.5 rounded-lg text-xs font-bold transition-colors">
                                                    立即探索
                                                </button>
                                            </div>
                                            <i className="fas fa-tools absolute -right-6 -bottom-6 text-[120px] text-white opacity-20 group-hover:scale-110 transition-transform duration-500"></i>
                                        </div>
                                    </div>
                                )}

                                <div className="flex items-center justify-between mb-4">
                                    <h2 className="text-lg font-bold text-slate-800">
                                        {searchTerm ? '搜索结果' : (activeCategory === 'all' ? '热门推荐' : SCENARIO_CATEGORIES.find(c => c.id === activeCategory).label)}
                                        <span className="text-slate-400 text-xs font-normal ml-2">{filteredResources.length} 个应用</span>
                                    </h2>
                                </div>

                                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 pb-12">
                                    {filteredResources.map(item => <ResourceCard key={item.id} item={item} style="monday" />)}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );

            return (
                <div className="relative h-full">
                    {/* 背景占位符，模拟主应用界面 */}
                    <div className="absolute inset-0 flex items-center justify-center pointer-events-none">
                        <div className="text-slate-300 text-4xl font-bold opacity-20">SaaS Dashboard Background</div>
                    </div>

                    <LayoutSwitcher />
                    {layoutStyle === 'clickup' && renderClickUp()}
                    {layoutStyle === 'jira' && renderJira()}
                    {layoutStyle === 'monday' && renderMonday()}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<MainApp />);
    </script>
</body>
</html>